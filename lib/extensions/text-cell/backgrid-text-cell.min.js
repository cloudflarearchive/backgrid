/*
  backgrid-text-cell
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong
  Licensed under the MIT @license.
*/
(function(t,e,o,a,s){var i=s.Extension.TextareaEditor=s.InputCellEditor.extend({tagName:"div",className:"modal hide fade",attributes:{},template:o.template('<form><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h3><%- column.get("label") %></h3></div><div class="modal-body"><textarea cols="<%= cols %>" rows="<%= rows %>"><%- content %></textarea></div><div class="modal-footer"><input class="btn" type="submit" value="Save"/></div></form>'),cols:80,rows:10,events:{submit:"save",hide:"cancel",hidden:"close"},modalOptions:{backdrop:!1},render:function(){return this.$el.html(e(this.template({column:this.column,cols:this.cols,rows:this.rows,content:this.formatter.fromRaw(this.model.get(this.column.get("name")))}))),this.$el.modal(this.modalOptions),this},save:function(t){t&&t.preventDefault();var e=this.formatter.toRaw(this.$el.find("textarea").val());o.isUndefined(e)||!this.model.set(this.column.get("name"),e,{validate:!0})?this.trigger("error"):this.$el.modal("hide")},cancel:function(e){var o=this.formatter.toRaw(this.$el.find("textarea").val());return o!==this.model.get(this.column.get("name")).replace(/\r/g,"")&&t.confirm("Would you like to save your changes?")?(e.preventDefault(),e.stopPropagation(),this.save()):void 0},close:function(){this.trigger("done")}});s.Extension.TextCell=s.StringCell.extend({className:"text-cell",editor:i})})(window,jQuery,_,Backbone,Backgrid);